# å›½é™…åŒ– (i18n) ä½¿ç”¨æŒ‡å—

Rustun Dashboard æ”¯æŒå¤šè¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼Œç›®å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ã€‚

## å·²å®ç°åŠŸèƒ½

### æ”¯æŒçš„è¯­è¨€

- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡ (zh)** - ç®€ä½“ä¸­æ–‡
- ğŸ‡ºğŸ‡¸ **English (en)** - è‹±è¯­

### è‡ªåŠ¨è¯­è¨€æ£€æµ‹

åº”ç”¨ä¼šæ ¹æ®ä»¥ä¸‹ä¼˜å…ˆçº§é€‰æ‹©è¯­è¨€ï¼š
1. ç”¨æˆ·ä¹‹å‰ä¿å­˜çš„è¯­è¨€è®¾ç½® (localStorage)
2. æµè§ˆå™¨è¯­è¨€è®¾ç½®
3. é»˜è®¤è‹±è¯­ (fallback)

### è¯­è¨€åˆ‡æ¢æ–¹å¼

#### 1. ç™»å½•é¡µé¢
- åœ¨ç™»å½•é¡µé¢é¡¶éƒ¨æœ‰è¯­è¨€åˆ‡æ¢æŒ‰é’®
- ç‚¹å‡» "ä¸­æ–‡" æˆ– "English" å³å¯åˆ‡æ¢

#### 2. ä¸»ç•Œé¢
- åœ¨é¡¶éƒ¨å¯¼èˆªæ å³ä¾§æœ‰åœ°çƒå›¾æ ‡
- ç‚¹å‡»ä¸‹æ‹‰èœå•é€‰æ‹©è¯­è¨€

### è¯­è¨€æŒä¹…åŒ–

- ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€ä¼šä¿å­˜åœ¨ localStorage ä¸­
- ä¸‹æ¬¡è®¿é—®æ—¶ä¼šè‡ªåŠ¨åº”ç”¨ä¹‹å‰çš„è¯­è¨€è®¾ç½®
- å³ä½¿åˆ·æ–°é¡µé¢ä¹Ÿä¼šä¿æŒè¯­è¨€è®¾ç½®

## æŠ€æœ¯å®ç°

### ä¾èµ–

```json
{
  "vue-i18n": "^9.8.0"
}
```

### ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ locales/
â”‚   â”œâ”€â”€ index.js    # i18n é…ç½®
â”‚   â”œâ”€â”€ en.js       # è‹±æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ zh.js       # ä¸­æ–‡ç¿»è¯‘
```

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

#### Composition API (æ¨è)

```vue
<template>
  <div>
    <h1>{{ t('dashboard.title') }}</h1>
    <p>{{ t('dashboard.description') }}</p>
  </div>
</template>

<script setup>
import { useI18n } from 'vue-i18n'

const { t, locale } = useI18n()

// åˆ‡æ¢è¯­è¨€
const switchLanguage = (lang) => {
  locale.value = lang
  localStorage.setItem('locale', lang)
}
</script>
```

#### å¸¦å‚æ•°çš„ç¿»è¯‘

```vue
<template>
  <!-- ä½¿ç”¨å‘½åå‚æ•° -->
  <p>{{ t('cluster.deleteConfirm', { name: 'production', count: 5 }) }}</p>
</template>
```

ç¿»è¯‘æ–‡ä»¶ä¸­ï¼š
```javascript
{
  cluster: {
    deleteConfirm: 'This will delete cluster "{name}" and all its {count} client(s).'
  }
}
```

#### è·å–å½“å‰è¯­è¨€

```vue
<script setup>
import { useI18n } from 'vue-i18n'

const { locale } = useI18n()

// å½“å‰è¯­è¨€: locale.value ('zh' æˆ– 'en')
console.log('Current language:', locale.value)
</script>
```

## ç¿»è¯‘æ–‡ä»¶ç»“æ„

### ç»„ç»‡æ–¹å¼

ç¿»è¯‘æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼š

```javascript
export default {
  common: {        // é€šç”¨æ–‡æœ¬
    confirm: 'Confirm',
    cancel: 'Cancel',
    // ...
  },
  nav: {          // å¯¼èˆª
    dashboard: 'Dashboard',
    // ...
  },
  login: {        // ç™»å½•é¡µé¢
    title: 'Rustun Dashboard',
    // ...
  },
  dashboard: {    // ä»ªè¡¨ç›˜
    title: 'Dashboard',
    // ...
  },
  cluster: {      // é›†ç¾¤ç®¡ç†
    title: 'Clusters',
    // ...
  },
  client: {       // å®¢æˆ·ç«¯ç®¡ç†
    title: 'Clients',
    form: {       // åµŒå¥—ï¼šè¡¨å•å­—æ®µ
      cluster: 'Cluster',
      // ...
    }
  }
}
```

### æ·»åŠ æ–°ç¿»è¯‘

1. **åœ¨è‹±æ–‡æ–‡ä»¶ä¸­æ·»åŠ ** (`src/locales/en.js`)

```javascript
export default {
  // ... existing translations
  newFeature: {
    title: 'New Feature',
    description: 'This is a new feature',
  }
}
```

2. **åœ¨ä¸­æ–‡æ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”ç¿»è¯‘** (`src/locales/zh.js`)

```javascript
export default {
  // ... ç°æœ‰ç¿»è¯‘
  newFeature: {
    title: 'æ–°åŠŸèƒ½',
    description: 'è¿™æ˜¯ä¸€ä¸ªæ–°åŠŸèƒ½',
  }
}
```

3. **åœ¨ç»„ä»¶ä¸­ä½¿ç”¨**

```vue
<template>
  <h1>{{ t('newFeature.title') }}</h1>
  <p>{{ t('newFeature.description') }}</p>
</template>
```

## Element Plus ç»„ä»¶å›½é™…åŒ–

Element Plus ç»„ä»¶ä¼šè‡ªåŠ¨ç»§æ‰¿åº”ç”¨çš„è¯­è¨€è®¾ç½®ã€‚

### æ—¥æœŸé€‰æ‹©å™¨ã€åˆ†é¡µå™¨ç­‰

è¿™äº›ç»„ä»¶ä¼šè‡ªåŠ¨ä½¿ç”¨å¯¹åº”çš„è¯­è¨€åŒ…ï¼š

```vue
<template>
  <el-date-picker
    v-model="date"
    type="date"
    placeholder="Select date"
  />
  <!-- ä¼šæ ¹æ®å½“å‰è¯­è¨€æ˜¾ç¤ºå¯¹åº”çš„æ—¥æœŸæ ¼å¼å’ŒæŒ‰é’®æ–‡æœ¬ -->
</template>
```

## æœ€ä½³å®è·µ

### 1. å§‹ç»ˆä½¿ç”¨ç¿»è¯‘é”®

âŒ **ä¸å¥½çš„åšæ³•ï¼š**
```vue
<el-button>Delete</el-button>
```

âœ… **å¥½çš„åšæ³•ï¼š**
```vue
<el-button>{{ t('common.delete') }}</el-button>
```

### 2. ä½¿ç”¨æœ‰æ„ä¹‰çš„é”®å

```javascript
// å¥½çš„é”®åç»„ç»‡
{
  client: {
    form: {
      privateIp: 'Private IP',
      privateIpPlaceholder: 'e.g., 10.0.1.10',
      privateIpRequired: 'Please input private IP',
      privateIpPattern: 'Invalid IP address format',
    }
  }
}
```

### 3. ä¿æŒä¸¤ä¸ªè¯­è¨€æ–‡ä»¶åŒæ­¥

ç¡®ä¿ `en.js` å’Œ `zh.js` æœ‰ç›¸åŒçš„é”®ç»“æ„ï¼š

```javascript
// en.js
{
  common: {
    save: 'Save',
    cancel: 'Cancel'
  }
}

// zh.js
{
  common: {
    save: 'ä¿å­˜',
    cancel: 'å–æ¶ˆ'
  }
}
```

### 4. ä½¿ç”¨è®¡ç®—å±æ€§å¤„ç†åŠ¨æ€è§„åˆ™

```vue
<script setup>
import { computed } from 'vue'
import { useI18n } from 'vue-i18n'

const { t } = useI18n()

const rules = computed(() => ({
  username: [
    { required: true, message: t('login.usernameRequired'), trigger: 'blur' }
  ]
}))
</script>
```

## æµ‹è¯•è¯­è¨€åˆ‡æ¢

### æ‰‹åŠ¨æµ‹è¯•

1. æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»è¯­è¨€åˆ‡æ¢å™¨
3. æ£€æŸ¥æ‰€æœ‰æ–‡æœ¬æ˜¯å¦æ­£ç¡®ç¿»è¯‘
4. åˆ·æ–°é¡µé¢ï¼Œç¡®è®¤è¯­è¨€è®¾ç½®è¢«ä¿å­˜

### æµ‹è¯•æ¸…å•

- [ ] ç™»å½•é¡µé¢
- [ ] å¯¼èˆªèœå•
- [ ] ä»ªè¡¨ç›˜
- [ ] é›†ç¾¤åˆ—è¡¨å’Œè¯¦æƒ…
- [ ] å®¢æˆ·ç«¯åˆ—è¡¨
- [ ] è¡¨å•éªŒè¯æ¶ˆæ¯
- [ ] ç¡®è®¤å¯¹è¯æ¡†
- [ ] æˆåŠŸ/é”™è¯¯æç¤º
- [ ] ç©ºçŠ¶æ€æç¤º
- [ ] æŒ‰é’®æ–‡æœ¬

## å¸¸è§é—®é¢˜

### Q: æ·»åŠ äº†æ–°ç¿»è¯‘ä½†ä¸ç”Ÿæ•ˆï¼Ÿ

A: ç¡®ä¿ï¼š
1. ä¸¤ä¸ªè¯­è¨€æ–‡ä»¶éƒ½æ·»åŠ äº†å¯¹åº”çš„é”®
2. é‡å¯å¼€å‘æœåŠ¡å™¨ (`npm run dev`)
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### Q: å¦‚ä½•æ·»åŠ æ–°è¯­è¨€ï¼Ÿ

A: 
1. åœ¨ `src/locales/` åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå¦‚ `ja.js` (æ—¥è¯­)
2. åœ¨ `src/locales/index.js` ä¸­å¯¼å…¥å¹¶æ³¨å†Œ
3. æ›´æ–°è¯­è¨€åˆ‡æ¢å™¨æ·»åŠ æ–°é€‰é¡¹

```javascript
// src/locales/index.js
import ja from './ja'

const i18n = createI18n({
  // ...
  messages: {
    en,
    zh,
    ja,  // æ·»åŠ æ–°è¯­è¨€
  },
})
```

### Q: å¦‚ä½•å¤„ç†å¤æ•°å½¢å¼ï¼Ÿ

A: vue-i18n æ”¯æŒå¤æ•°ï¼š

```javascript
{
  client: {
    count: 'no clients | one client | {count} clients'
  }
}
```

ä½¿ç”¨ï¼š
```vue
{{ t('client.count', count, { count }) }}
```

## æ‰©å±•é˜…è¯»

- [Vue I18n å®˜æ–¹æ–‡æ¡£](https://vue-i18n.intlify.dev/)
- [Element Plus å›½é™…åŒ–](https://element-plus.org/zh-CN/guide/i18n.html)
- [CLDR è¯­è¨€ä»£ç ](http://cldr.unicode.org/)

## è´¡çŒ®ç¿»è¯‘

æ¬¢è¿è´¡çŒ®æ–°çš„è¯­è¨€ç¿»è¯‘æˆ–æ”¹è¿›ç°æœ‰ç¿»è¯‘ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºæ–°çš„è¯­è¨€æ–‡ä»¶æˆ–ä¿®æ”¹ç°æœ‰æ–‡ä»¶
3. æµ‹è¯•ç¿»è¯‘
4. æäº¤ Pull Request

